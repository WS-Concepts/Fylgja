// Fylgja (https://fylgja.dev)
// Licensed under MIT Open Source

// stylelint-disable declaration-no-important

@use "sass:map";
@use "../helper" as *;

$use-mq: true !default;
$include-mq-loop: $use-mq !default;

.align {
	--align: normal space-between;
	--align-items: center legacy;
	--align-self: auto;
	@if $use-mq {
		@each $name in map.keys($breakpoints) {
			--#{$name}_align: initial;
			--#{$name}_align-items: initial;
			--#{$name}_align-self: initial;
		}
	}
	place-content: for-mq-prop("align", $use-mq);
	place-items: for-mq-prop("align-items", $use-mq);

	> * {
		@if $use-mq {
			@each $name in map.keys($breakpoints) {
				--#{$name}_align-self: initial;
			}
		}
		place-self: for-mq-prop("align-self", $use-mq);
	}
}

@mixin mq-utils($name) {
	.align {
		--#{$name}_align: initial !important;
		--#{$name}_align-items: initial !important;

		> * {
			--#{$name}_align-self: initial !important;
		}
	}
}

@if $include-mq-loop {
	@include for-mq(max) using ($name) {
		@include mq-utils($name);
	}
}
