// Fylgja (https://fylgja.dev)
// Licensed under MIT Open Source

$text-my: 1em 1rem !default;
$separator-text-my: 2.5em !default;

$h1-font-size: 3.5rem;
$h2-font-size: 2.5rem;
$h3-font-size: 2rem;
$h4-font-size: 1.5rem;
$h5-font-size: 1.25rem;
$h-font-size: 1.1rem;
$h-font-weight: 700;
$h-line-height: 1.1;

// Set a general default for text block margin
:where(h1, h2, h3, h4, h5, h6, p, dl, ul, ol, pre) {
	margin-block: var(--text-my, #{$text-my});
}

:where(blockquote, hr) {
	margin-block: var(--separator-text-my, #{$separator-text-my});
	margin-inline: 0;
}

// Improved heading text wrapping
:where(h1, h2, h3, h4, h5, h6) {
	font-size: $h-font-size;
	font-weight: $h-font-weight;
	line-height: $h-line-height;
	text-wrap: balance;
}

:where(h1) {
	font-size: $h1-font-size;
}

:where(h2) {
	font-size: $h2-font-size;
}

:where(h3) {
	font-size: $h3-font-size;
}

:where(h4) {
	font-size: $h4-font-size;
}

:where(h5) {
	font-size: $h5-font-size;
}

// Improve readability with max-width on paragraphs and lists
// Prevent orphans in supported browsers
:where(p, li) {
	max-inline-size: 65ch;
	text-wrap: pretty;
}

// Let links be part of the text by default and inherit the color where needed
:where(:any-link) {
	color: currentcolor;
	font-weight: 500;
}

:where(blockquote) {
	padding-inline-start: 1.5em;
	border-inline-start: 4px solid;
}

// Inherit fonts for inputs and buttons
:where(input, button, textarea, select),
:where(input[type="file"])::-webkit-file-upload-button {
	font: inherit;
}

// Remove list styles on ul, ol elements with a list role or inside a nav element,
// The list role presevers the list A11Y: https://developer.mozilla.org/en-US/docs/Web/CSS/list-style#accessibility_concerns
:where(ul[role="list"], ol[role="list"], nav ol, nav ul) {
	list-style: none;
	margin-block: 0;
	padding-inline-start: 0;
}

// Remove margin on nested lists and nested items inside a hgroup
:where(hgroup > :is(h1, h2, h3, h4, h5, h6, p)),
:where(dl, ol, ul) :where(dl, ol, ul) {
	margin-block: 0;
}

:where(dt) {
	font-weight: 500;
}

:where(dd + dt) {
	margin-block-start: 0.5em;
}

:where(dd) {
	margin-inline-start: 0;
}

// Correct the inheritance of color in Firefox
:where(hr) {
	border-block-end-width: 2px;
	color: inherit;
}

:where(mark) {
	padding-inline: 0.125em;
}

// Add the correct font size in all browsers
:where(small) {
	font-size: 0.875em;
}

// Prevent sub and sup elements from affecting the line height in all browsers
:where(sub, sup) {
	position: relative;
	font-size: 0.75em;
	line-height: 0;
	vertical-align: baseline;
}

:where(sub) {
	bottom: -0.25em;
}

:where(sup) {
	top: -0.5em;
}
