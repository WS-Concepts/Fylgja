// Fylgja (https://fylgja.dev)
// Licensed under MIT Open Source

$padding-block: 0.375rem !default;
$padding-inline: 0.8rem !default;
$border-width: 1px !default;
$radius: 0.35rem !default;
$font-size: inherit !default;
$line-height: inherit !default;
$font-weight: 500 !default;

$bg: var(--root-bg) !default;
$color: var(--root-fg) !default;

$disabled-border-style: dashed !default;
$disabled-opacity: 0.6 !default;

$icon-size: 1.25em !default;

@mixin base {
	appearance: none;
	display: block;
	max-inline-size: 100%;
	inline-size: 100%;
	margin: 0;
	padding-block: var(--form-py, #{$padding-block});
	padding-inline: var(--form-px, #{$padding-inline});
	border-width: var(--form-border-width, #{$border-width});
	border-color: var(--form-stroke);
	border-radius: var(--form-radius, #{$radius});
	background: var(--form-bg, #{$bg});
	color: var(--form-color, #{$color});
	transition: color 250ms, background-color 250ms, border-color 250ms,
		box-shadow 250ms, var(--outline-transition);
}

@mixin select-icon {
	--icon: var(--select-icon, var(--chevron-light-scheme));
	--icon-size: var(--select-icon-size, #{$icon-size});
	--icon-offset: var(--select-icon-offset, #{$padding-inline});
	inline-size: auto;
	padding-inline-end: calc(var(--icon-size) + var(--icon-offset));
	background: var(--icon) var(--form-bg, #{$bg}) var(--icon-position, right)
		var(--icon-offset) center / var(--icon-size) no-repeat;
	-webkit-print-color-adjust: exact;
	print-color-adjust: exact;

	&:dir(rtl) {
		--icon-position: left;
	}
}

@mixin file {
	--form-py: 0;
	--form-px: 0 #{$padding-inline};
	--btn-radius: 0;
	--btn-border-width: var(--form-border-width, #{$border-width});
	overflow: clip;

	&::file-selector-button {
		margin-block: calc(var(--btn-border-width) / -1);
		margin-inline: calc(var(--btn-border-width) / -1) 1em;
	}
}

$color-padding: 3px !default;
$color-size: 2.5em !default;

@mixin color {
	--form-py: #{$color-padding};
	--form-px: #{$color-padding};
	block-size: var(--block-size, #{$color-size});
	inline-size: var(--inline-size, #{$color-size});

	&::-webkit-color-swatch-wrapper {
		padding: 0;
		border-radius: inherit;
	}

	&::-moz-color-swatch {
		border: 0;
		border-radius: inherit;
	}

	&::-webkit-color-swatch {
		border: 0;
		border-radius: inherit;
	}
}
