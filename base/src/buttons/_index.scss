// Fylgja (https://fylgja.dev)
// Licensed under MIT Open Source

@use "helper" as btn;

$selectors: "button, [type=button], [type=submit], [type=reset], .btn" !default;
$use-input-file: true !default;

@if $use-input-file {
	:where(#{$selectors}),
	:where(input[type="file"])::file-selector-button {
		@include btn.base;
	}
}

:where(#{$selectors}) {
	@if not $use-input-file {
		@include btn.base;
	}
	vertical-align: middle;

	&:hover {
		@include btn.hover;
	}

	// prettier-ignore
	&:is(
		.is-active,
		:active,
		:has(:checked),
		[aria-current="page"],
		[aria-current="true"]
	) {
		@include btn.active;
	}

	&:is(.is-disabled, :disabled) {
		@include btn.disabled;
	}
}

@if $use-input-file {
	:where(input[type="file"]) {
		&:hover::file-selector-button {
			@include btn.hover;
		}

		&:active::file-selector-button {
			@include btn.active;
		}

		&:disabled::file-selector-button {
			@include btn.disabled;
		}
	}
}
